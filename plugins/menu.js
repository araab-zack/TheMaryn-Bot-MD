import fs from 'fs'
import fetch from 'node-fetch'
import { xpRange } from '../lib/levelling.js'
const { levelling } = '../lib/levelling.js'
import PhoneNumber from 'awesome-phonenumber'
import { promises } from 'fs'
import { join } from 'path'
let handler = async (m, { conn, usedPrefix, usedPrefix: _p, __dirname, text, isPrems }) => {
try {
let vn = './Menu2.jpg'
let pp = imagen4
let img = await(await fetch('https://telegra.ph/.')).buffer()
let d = new Date(new Date + 3600000)
let locale = 'ar'
let week = d.toLocaleDateString(locale, { weekday: 'long' })
let date = d.toLocaleDateString(locale, { day: 'numeric', month: 'long', year: 'numeric' })
let _uptime = process.uptime() * 1000
let uptime = clockString(_uptime)
let user = global.db.data.users[m.sender]
let { money, joincount } = global.db.data.users[m.sender]
let { exp, limit, level, role } = global.db.data.users[m.sender]
let { min, xp, max } = xpRange(level, global.multiplier)
let rtotalreg = Object.values(global.db.data.users).filter(user => user.registered == true).length 
let more = String.fromCharCode(8206)
let readMore = more.repeat(850)   
let taguser = '@' + m.sender.split("@s.whatsapp.net")[0]
let str = `âŽ”â‹…â€¢ â” â•¼â•ƒ âŒ¬ã€”ï·½ã€•âŒ¬ â•„â•¾ â” â€¢â‹…âŽ”
ã€ŽØ¨Ù€ÙˆØªâ¤œÙ…Ø§Ø±ÙŠÙ€Ù†ã€
â—ˆðŸ•Šâ•ŽØ§Ù‡Ù„Ø§ Ø¨ÙƒÙ… Ù Ø¨ÙˆØª ÙÙŠØ±Ù„Ø¯ Ù‚Ø¨Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§ÙŠ Ø§Ù…Ø±(.) â•ŽðŸ•Šâ—ˆ
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
âŒ¬âš”Â»â”ŠØ§ÙˆØ§Ù…Ù€Ø± Ø§Ù„Ù€Ø¬Ù€Ø±ÙˆØ¨Ø§Øªã€â†¯
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
â†žã€”Ø¶Ù€ÙŠÙ€Ùã€•â† 
â†žã€”Ø§Ù„Ø§Ø´Ø¨Ø§Ø­ã€•â† 
â†žã€”Ø·Ù€Ø±Ø¯ã€•â† 
â†žã€”Ù…Ù€Ù†Ù€Ø´Ù€Ù†ÙŠã€•â† 
â†žã€”ØªÙ€Ø±Ù‚Ù€ÙŠØ©ã€•â† 
â†žã€”Ø§Ø¹Ù€ÙÙ€Ø§Ø¡ã€•â† 
â†žã€”Ø§Ù†Ù€Ø°Ø§Ø±ã€•â† 
â†žã€”Ø­Ù€Ø°Ù - Ø§Ù†Ù€Ø°Ø§Ø±ã€•â† 
â†žã€”Ø­Ù€Ø°Ùã€•â† 
â†žã€”Ù…Ù€Ù†Ù€Ø´Ù€Ù†ã€•â† 
â†žã€”Ø¹Ù€Ù…Ù€Ù„Ø§Øªã€•â† 
â†žã€”Ù…Ù€Ø®Ù€ÙÙ€ÙŠã€•â† 
â†žã€”Ø§Ù„Ù…Ù€Ø´Ù€Ø±ÙÙ€ÙŠÙ€Ù†ã€•â† 
â†žã€”Ø§Ù„Ù…Ù€Ù†Ù€Ø´Ù€Ù†ã€•â† 
â†žã€”Ø§Ù„Ù€Ø¨Ù€Ø±ÙˆÙØ§ÙŠÙ€Ù„ã€•â† 
â†žã€”Ø§Ù„Ù€Ù‚Ù€Ø±ÙˆØ¨ã€•â† 
â†žã€”Ø¯Ø¹Ù€ÙˆØ©ã€•â† 
â†žã€”Ø±Ø³ØªØ±ã€•â† 
â†žã€”Ù„Ù€ÙÙ€Ù„ã€•â† 
â†žã€”Ø§Ù„ØªÙ€Ø±Ø­Ù€ÙŠÙ€Ø¨ã€•â† 
â†žã€”Ø§Ù„Ù€Ù…Ù€ØºØ§Ø¯Ø±Ø©ã€•â† 
â†žã€”ÙØªÙ€Ø­ Ø§Ù„Ù‚Ù€Ø±ÙˆØ¨ã€•â† 
â†žã€”Ø§ØºÙ€Ù„Ø§Ù‚ Ø§Ù„Ù‚Ù€Ø±ÙˆØ¨ã€•â† 
â†žã€”Ø®Ù€Ø·ã€•â† 
â†žã€”ØªÙ€ÙˆØ¨ã€•â† 
â†žã€”Ù„ÙŠÙ€Ù†Ù€Ùƒã€•â† 
â†žã€”ÙŠÙ€ÙˆÙ…Ù€ÙŠã€•â† 
â†žã€”Ø§Ù„Ù€Ù…Ù€Ø§Ø³ã€•â† 
â†žã€”ØªÙ€Ø±ØªÙ€ÙŠÙ€Ø¨_Ø§Ù„Ø¨Ù€Ù†Ù€Ùƒã€•â† 
â†žã€”Ø´Ù€Ø±Ø§Ø¡ã€•â† 
â†žã€”Ù‡Ù€Ø¬Ù€ÙˆÙ…ã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
Ø¡âŒ¬ðŸ•‹Â»â”ŠØ§Ù„Ù‚Ù€Ø³Ù€Ù… Ø§Ù„Ø§Ø³Ù„Ø§Ù…Ù€ÙŠã€â†¯*
â†žã€”Ø³Ù€ÙˆØ±Ø©ã€•â† 
â†žã€”Ø­Ù€Ø¯ÙŠÙ€Ø«ã€•â† 
â†žã€”Ù‚Ù€Ø±Ø¢Ù†ã€•â† 
â†žã€”Ø§Ù„Ù„Ù‡ã€•â† 
â†žã€”Ø¢ÙŠÙ€Ø§Øªã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
âŒ¬ðŸ•¹Â»â”ŠÙ‚Ù€Ø³Ù€Ù… Ø§Ù„ØªÙ€Ø±ÙÙ€ÙŠÙ‡ã€â†¯
â†žã€”Ø§ÙƒÙ€Ø³ Ø§Ùˆã€•â† 
â†žã€”ÙƒÙ€Øªã€•â† 
â†žã€”ØµÙ€Ø±Ø§Ø­Ù€Ø©ã€•â† 
â†žã€”ØªØ­Ø¯ÙŠã€•â† 
â†žã€”Ø°ÙƒÙ€Ø§Ø¡ã€•â† 
â†žã€”ØºÙ€Ø¨Ù€Ø§Ø¡ã€•â† 
â†žã€”Ø¬Ù€Ù…Ù€Ø§Ù„ã€•â† 
â†žã€”Ø³Ù€ÙŠÙ€Ø§Ø±Ø§Øªã€•â† 
â†žã€”Ø¹ÙŠÙ†ã€•â† 
â†žã€”Ø§Ù„Ù€Ø­Ù€Ø¨ã€•â† 
â†žã€”Ù„Ù€Ùˆã€•â† 
â†žã€”Ù‡Ù€Ù„ã€•â† 
â†žã€”Ø±ÙˆÙ†Ù€Ø§Ù„Ù€Ø¯Ùˆã€•â† 
â†žã€”Ù…Ù€ÙŠÙ€Ø³Ù€ÙŠã€•â† 
â†žã€”Ø§Ø­Ù€Ø±Ø²ã€•â† 
â†žã€”ØªÙ€ÙÙ€ÙƒÙŠÙ€Ùƒã€•â† 
â†žã€”Ù…ÙŠÙ€Ù…Ù€Ø²ã€•â† 
â†žã€”Ø¯Ù…Ù€Ø¬ã€•â† 
â†žã€”Ø²ÙˆØ§Ø¬ã€•â† 
â†žã€”Ø·Ù€Ù„Ø§Ù‚ã€•â† 
â†žã€”Ø¹ÙŠØ¯ã€•â† 
â†žã€”ÙƒÙŠÙˆØªã€•â† 
â†žã€”Ø§Ù‚ØªØ¨Ø§Ø³ã€•â† 
â†žã€”Ø¹Ù€Ù„Ù€Ù…ã€•â† 
â†žã€”ØªÙ€Ø§Ø¬ã€•â† 
â†žã€”Ø­Ù€ÙƒÙ€Ù…Ø©ã€•â† 
â†žã€”Ù…ÙŠÙ€Ù…Ù€Ø²ã€•â† 
â†žã€”Ø³Ù€Ø¤Ø§Ù„ã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
âŒ¬âÂ»â”ŠÙ‚Ù€Ø³Ù€Ù… Ø§Ù„ØªÙ€Ù†Ù€Ø²ÙŠÙ€Ù„Ø§Øªã€â†¯
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
â†žã€”Ø§Ù†Ù€Ø³Ù€ØªØºÙ€Ø±Ø§Ù…ã€•â† 
â†žã€”Ø¬ÙˆØ¬Ù€Ù„ã€•â† 
â†žã€”ÙˆÙŠÙƒÙŠÙ€Ø¨Ù€Ø¯ÙŠØ§ã€•â† 
â†žã€”Ø§Ù†Ù€Ø³Ù€ØªØ§ã€•â† 
â†žã€”Ø§Ø³Ù€Ù…_Ø§ØºÙ†Ù€ÙŠØ©ã€•â† 
â†žã€”ÙÙ€ÙŠÙ€Ø³ã€•â† 
â†žã€”Ø¨Ù€ÙŠÙ€Ù†ã€•â† 
â†žã€”Ù…Ù€ÙŠÙ€Ø¯ÙŠØ§ÙØ§ÙŠÙ€Ø±ã€•â† 
â†žã€”Ø´Ù€ØºÙ€Ù„ã€•â† 
"â†žã€”ØªÙ€ÙŠÙƒÙ€ØªÙ€ÙˆÙƒã€•â† *
" â†žã€”ØªÙˆÙŠÙ€ØªÙ€Ø±ã€•â† *
â†žã€”Ø¨Ø­Ù€Ø«ã€•â† 
â†žã€”Ø§ØºÙ†Ù€ÙŠØ©ã€•â† 
â†žã€”ÙÙŠÙ€Ø¯ÙŠÙ€Ùˆã€•â† 
â†žã€”ØªØ·Ø¨Ù€ÙŠÙ€Ù‚ã€•â† 
â†žã€”ØµÙ€ÙˆØ±Ø©ã€•â† 
â†žã€”ØµÙ€ÙˆØ±Ø©Â²ã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
âŒ¬â™»Â»â”ŠÙ‚Ù€Ø³Ù€Ù… Ø§Ù„ØªÙ€Ø­Ù€ÙˆÙŠÙ€Ù„Ø§Øªã€â†¯
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
â†žã€”Ù…Ù€Ù„Ù€ØµÙ€Ù‚ã€•â† 
â†žã€”Ø³Ù€Ø±Ù‚Ø©ã€•â† 
â†žã€”Ù„ÙÙŠÙ€Ø¯ÙŠÙˆã€•â† 
â†žã€”Ù„ØµÙ€ÙˆØ±Ø©ã€•â† 
â†žã€”Ø¯Ø§Ø¦Ù€Ø±ÙŠã€•â† 
â†žã€”ØªÙ€Ø®Ù€ÙŠÙ„ã€•â† 
â†žã€”Ù…ÙƒÙ€Ø³ã€•â† 
â†žã€”Ù„Ø±Ø§Ø¨Ø·ã€•â† 
â†žã€”Ø¬Ù€ÙˆØ§Ù‡Ù€Ø±ã€•â† 
â†žã€”Ø³Ù€ØªÙ€Ùƒã€•â† 
â†žã€”ØªÙŠÙ€Ù„Ø¬Ù€Ø±Ø§Ùã€•â† 
â†žã€”Ù„ÙƒÙ€Ø±ØªÙ€ÙˆÙ†ã€•â† 
â†žã€”Ø¨Ø§Ø±ÙƒÙ€ÙˆØ¯ã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
âŒ¬â™ Â»â”ŠÙ‚Ù€Ø³Ù€Ù… Ø§Ù„Ù…Ù€Ø·Ù€ÙˆØ±ã€â†¯
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
â†žã€”Ø¶Ù€ÙŠÙ€Ù_Ø¨Ø±ÙŠÙ€Ù…Ù€ÙŠØ§Ù…ã€•â† 
â†žã€”Ø­Ù€Ø°Ù_Ø¨Ø±ÙŠÙ€Ù…Ù€ÙŠØ§Ù…ã€•â† 
â†žã€”Ø§Ù„Ø­Ù€Ø§Ù„Ø©ã€•â† 
â†žã€”Ø±ÙŠÙ€Ø³ØªÙ€Ø§Ø±Øªã€•â† 
â†žã€”Ø¨Ù€Ø§Ù†ã€•â† 
â†žã€”Ø§Ù„Ù€ØºØ§Ø¡_Ø§Ù„Ø¨Ù€Ø§Ù†ã€•â† 
#â†žã€”Ø§Ø·Ù€ÙØ§Ø¡ã€•â† *
â†žã€”Ø§Ù„Ø­Ù€Ø§Ù„Ø©ã€•â† 
â†žã€”ØªÙÙ€Ø¹ÙŠÙ€Ù„ã€•â† 
â†žã€”Ø§Ù„Ù…Ù€Ø¨Ù†Ù€Ø¯ÙŠÙ€Ù†ã€•â† 
â†žã€”Ø¥Ø¹Ù€Ø§Ø¯Ø©ã€•â† 
â†žã€”Ø§Ø¯Ø®Ù€Ù„ã€•â† 
â†žã€”Ø¶Ù€ÙŠÙ_Ø§ÙƒÙ€Ø³ Ø¨ÙŠã€•â† 
â†žã€”Ø¶ÙŠÙ€Ù_Ø¬Ù€ÙˆØ§Ù‡Ù€Ø±ã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
âŒ¬ðŸ”ŠÂ»â”ŠÙ‚Ù€Ø³Ù€Ù… Ø§Ù„ØµÙ€ÙˆØªÙ€ÙŠØ§Øªã€â†¯
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
â†žã€”Ø¹Ù…Ù€ÙŠÙ‚ã€•â† 
â†žã€”Ù…Ù†Ù€ÙÙ€ÙˆØ®ã€•â† 
â†žã€”ØªØ®Ù€ÙŠÙ€Ù†ã€•â† 
â†žã€”ØµÙ€Ø§Ø®Ù€Ø¨ã€•â† 
â†žã€”Ø³Ù€Ø±ÙŠÙ€Ø¹ã€•â† 
â†žã€”ØªØ®Ù€ÙŠÙŠÙ€Ù†Â²ã€•â† 
â†žã€”Ø±ÙˆØ¨Ù€ÙˆØªã€•â† 
â†žã€”Ø¨Ù€Ø·ÙŠÙ€Ø¦ã€•â† 
â†žã€”Ù†Ù€Ø§Ø¹Ù€Ù…ã€•â† 
â†žã€”Ø³Ù€Ù†Ù€Ø¬Ù€Ø§Ø¨ã€•â† 
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
ã€ŽØªÙ€ÙˆÙ‚Ù€ÙŠÙ€Ø¹ â”Š Ë¼â€ðŸ“œË¹ã€â†¶
ã€ŒðŸ·ðŒð€ð‘ð˜ðâ”ŠðŸ¤–â”ŠððŽð“ðŸ·ã€
â‹ â”€â”â”€âŠ°ðŸ·âŠ±â”€â”â”€ â‹
`.trim()
   const _0x3c7cab = _0x5a1d;

        function _0x5a1d(_0x1b92fa, _0x42ca62) {
            const _0x5a1d39 = _0x42ca();
            _0x5a1d = function (_0x28d0f5, _0x342e36) {
                _0x28d0f5 = _0x28d0f5 - 0x0;
                let _0x4abc25 = _0x5a1d39[_0x28d0f5];
                return _0x4abc25;
            };
            return _0x5a1d(_0x1b92fa, _0x42ca62);
        }

        function _0x42ca() {
            const _0xe1e20e = ['2409147cMTtvV', '70SxKSwY', 'trim', '2708027tOnEUS', '831853GQAjyu', '6ZrUjVF', 'â¨ðŸ·ðŒð€ð‘ð˜ðâ”ŠðŸ¤–â”ŠððŽð“ðŸ·', '406070MLYaeB', '4YbGMkZ', '840496IPJeXP', '322835aPaRGc', 'VIDEO', '3639410cLSfPv', 'sender', '9LtUyCF'];
            _0x42ca = function () {
                return _0xe1e20e;
            };
            return _0x42ca();
        }(function (_0x2979d9, _0x233f8f) {
            const _0x32315e = _0x5a1d;
            const _0x3b1890 = _0x2979d9();
            while (!![]) {
                try {
                    const _0x2cc4d6 = parseInt(_0x32315e(0x5)) / 0x1 + parseInt(_0x32315e(0x1)) / 0x2 + -parseInt(_0x32315e(0xa)) / 0x3 * (parseInt(_0x32315e(0x3)) / 0x4) + parseInt(_0x32315e(0x7)) / 0x5 + -parseInt(_0x32315e(0xf)) / 0x6 * (parseInt(_0x32315e(0xd)) / 0x7) + parseInt(_0x32315e(0x4)) / 0x8 * (-parseInt(_0x32315e(0x9)) / 0x9) + -parseInt(_0x32315e(0xb)) / 0xa * (-parseInt(_0x32315e(0xe)) / 0xb);
                    if (_0x2cc4d6 === _0x233f8f) {
                        break;
                    } else {
                        _0x3b1890['push'](_0x3b1890['shift']());
                    }
                } catch (_0x3284ad) {
                    _0x3b1890['push'](_0x3b1890['shift']());
                }
            }
        }(_0x42ca, 0x772cd));
        let buttonMessage = {
            'image': pp,
            'caption': str[_0x3c7cab(0xc)](),
            'mentions': [m[_0x3c7cab(0x8)]],
            'footer': '' + wm,
            'headerType': 0x4,
            'contextInfo': {
                'mentionedJid': [m['sender']],
                'externalAdReply': {
                    'showAdAttribution': !![],
                    'mediaType': _0x3c7cab(0x6),
                    'mediaUrl': null,
                    'title': _0x3c7cab(0x0),
                    'body': null,
                    'thumbnail': img,
                    'sourceUrl': _0x3c7cab(0x2)
                }
            }
        };
        conn.sendMessage(m.chat, buttonMessage, {
            quoted: m
        })

    } catch {
        conn.reply(m.chat, '[â—Ø®Ø·Ø§Ø¡â—]', m)
    }
}
handler.command = /^(menu|Ø§ÙˆØ§Ù…Ø±|Ø§Ù„Ø§ÙˆØ§Ù…Ø±|Ù…Ù‡Ø§Ù…|Ø§Ù„Ù…Ù‡Ø§Ù…)$/i
handler.exp = 20
handler.fail = null
export default handler

function clockString(ms) {
    let h = isNaN(ms) ? '--' : Math.floor(ms / 3600000)
    let m = isNaN(ms) ? '--' : Math.floor(ms / 60000) % 60
    let s = isNaN(ms) ? '--' : Math.floor(ms / 1000) % 60
    return [h, m, s].map(v => v.toString().padStart(2, 0)).join(':')
}
